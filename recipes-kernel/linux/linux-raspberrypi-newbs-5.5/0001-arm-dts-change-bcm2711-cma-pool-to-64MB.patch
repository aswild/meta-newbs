From f775b281a136caf49a7996c6f5c77dc64deaac4a Mon Sep 17 00:00:00 2001
From: Allen Wild <allenwild93@gmail.com>
Date: Sat, 1 Feb 2020 02:53:03 -0500
Subject: [PATCH] arm: dts: change bcm2711 cma pool to 64MB

Fixes cma_alloc error during PCIe initialization,
see https://github.com/raspberrypi/linux/issues/3443
---
 arch/arm/boot/dts/bcm2711.dtsi | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/bcm2711.dtsi b/arch/arm/boot/dts/bcm2711.dtsi
index e2f6ffb00aa9..e860906b9d35 100644
--- a/arch/arm/boot/dts/bcm2711.dtsi
+++ b/arch/arm/boot/dts/bcm2711.dtsi
@@ -24,7 +24,7 @@ reserved-memory {
 		 */
 		linux,cma {
 			compatible = "shared-dma-pool";
-			size = <0x2000000>; /* 32MB */
+			size = <0x4000000>; /* 64MB */
 			alloc-ranges = <0x0 0x00000000 0x40000000>;
 			reusable;
 			linux,cma-default;
-- 
2.25.0

